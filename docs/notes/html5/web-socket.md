# WebSocket
WebSocket是一种网络通信协议，能够在客户端和服务器之间建立双向通信的通道。传统的HTTP协议是单向的，客户端向服务器发送请求，服务器响应请求并返回数据。而WebSocket协议在建立连接之后，客户端和服务器之间可以发送双向通信，服务器可以在任何时候向客户端发送消息，反之亦然。
## 原理
WebSocket协议的建立需要经过“握手”阶段，握手成功后建立连接。WebSocket协议基于HTTP协议，握手阶段也是通过HTTP协议进行的。

客户端首先向服务器发起HTTP请求，请求头中包含了一些特殊的字段，表示客户端希望使用WebSocket协议进行通信。服务器接收到请求后，在HTTP响应头中返回握手信息，客户端接收到响应后验证握手信息，验证成功后建立连接。

握手完成后，客户端和服务器之间可以直接通过WebSocket协议进行通信，消息不需要任何特殊格式，可以是文本也可以是二进制数据。

## 特点
- 双向通信：客户端和服务器之间可以发送双向通信。
- 实时性：WebSocket协议能够实时地在客户端和服务器之间进行通信，响应速度更快。
- 较少的数据传输量：WebSocket协议使用了比HTTP更少的数据传输量，可以更快地进行数据传输。
- 兼容性：WebSocket协议可以与任何服务器端语言搭配使用，例如PHP、Java等。
## 应用场景
- 即时通讯：通过WebSocket协议，实现即时通讯功能，能够实时地向客户端推送消息。
- 游戏：利用WebSocket协议的双向通信特性，实现游戏的多人在线功能。
- 股票行情：通过WebSocket协议，能够实时地向客户端推送股票行情。
## 兼容性
WebSocket协议在现代浏览器中得到广泛支持，但是在一些老版本的浏览器中可能不支持。对于不支持WebSocket协议的浏览器，可以使用一些polyfill库进行兼容处理。